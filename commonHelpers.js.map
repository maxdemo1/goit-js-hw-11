{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchQuery = searchForm.querySelector('[name=\"search-query\"]');\nconst loading = document.querySelector('.loader');\nlet gallery = document.querySelector('.gallery');\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst pixabayOptions = new URLSearchParams({\n  key: '41169627-a3aa19c241ef281e8692ca10a',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  per_page: '9',\n  safesearch: true,\n});\n\nconst mainObject = {\n  httpRequest(ulr) {\n    this.removeChilds();\n    loading.style.display = 'block';\n    fetch(ulr)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(posts => {\n        if (posts.hits.length > 0) {\n          this.imagesOnPage(posts);\n        } else {\n          this.noResults();\n        }\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        loading.style.display = 'none';\n      });\n  },\n\n  noResults() {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: 'white',\n      backgroundColor: 'rgb(255, 132, 132)',\n      position: 'topRight',\n    });\n  },\n\n  imagesOnPage(posts) {\n    let htmlCode = '';\n    const htmlGen = () => {\n      posts.hits.forEach(hit => {\n        htmlCode += `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${hit.webformatURL}\"\n        alt=\"${hit.tags}\"\n      />\n    </a>\n    <div class=\"characteristics-container\">\n      <div class=\"photo-characteristics\">\n        <p>Likes</p>\n        <p>${hit.likes}</p>\n      </div>\n      <div class=\"photo-characteristics\">\n        <p>Views</p>\n        <p>${hit.views}</p>\n      </div>\n      <div class=\"photo-characteristics\">\n        <p>Comments</p>\n        <p>${hit.comments}</p>\n      </div>\n      <div class=\"photo-characteristics\">\n        <p>Downloads</p>\n        <p>${hit.downloads}</p>\n      </div>\n    </div>\n  </li>`;\n      });\n    };\n    htmlGen();\n    gallery.insertAdjacentHTML('afterbegin', htmlCode);\n    lightbox.refresh();\n    searchQuery.value = '';\n  },\n\n  removeChilds() {\n    let removeChilds = gallery.querySelectorAll('.gallery-item');\n    removeChilds.forEach(child => {\n      child.remove();\n    });\n  },\n};\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  pixabayOptions.set('q', searchQuery.value.toString());\n  let ulr = `https://pixabay.com/api?${pixabayOptions}`;\n  mainObject.httpRequest(ulr);\n});\n"],"names":["searchForm","searchQuery","loading","gallery","lightbox","SimpleLightbox","pixabayOptions","mainObject","ulr","response","posts","error","iziToast","htmlCode","hit","child","event"],"mappings":"szBAMA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAcD,EAAW,cAAc,uBAAuB,EAC9DE,EAAU,SAAS,cAAc,SAAS,EAChD,IAAIC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAED,MAAMC,EAAiB,IAAI,gBAAgB,CACzC,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,SAAU,IACV,WAAY,EACd,CAAC,EAEKC,EAAa,CACjB,YAAYC,EAAK,CACf,KAAK,aAAY,EACjBN,EAAQ,MAAM,QAAU,QACxB,MAAMM,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAS,CACTA,EAAM,KAAK,OAAS,EACtB,KAAK,aAAaA,CAAK,EAEvB,KAAK,UAAS,CAExB,CAAO,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbT,EAAQ,MAAM,QAAU,MAChC,CAAO,CACJ,EAED,WAAY,CACVU,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,QACd,gBAAiB,qBACjB,SAAU,UAChB,CAAK,CACF,EAED,aAAaF,EAAO,CAClB,IAAIG,EAAW,IACC,IAAM,CACpBH,EAAM,KAAK,QAAQI,GAAO,CACxBD,GAAY;AAAA,oCACgBC,EAAI;AAAA;AAAA;AAAA,eAGzBA,EAAI;AAAA,eACJA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAMNA,EAAI;AAAA;AAAA;AAAA;AAAA,aAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,aAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,aAIJA,EAAI;AAAA;AAAA;AAAA,QAIjB,CAAO,CACP,KAEIX,EAAQ,mBAAmB,aAAcU,CAAQ,EACjDT,EAAS,QAAO,EAChBH,EAAY,MAAQ,EACrB,EAED,cAAe,CACME,EAAQ,iBAAiB,eAAe,EAC9C,QAAQY,GAAS,CAC5BA,EAAM,OAAM,CAClB,CAAK,CACF,CACH,EAEAf,EAAW,iBAAiB,SAAUgB,GAAS,CAC7CA,EAAM,eAAc,EACpBV,EAAe,IAAI,IAAKL,EAAY,MAAM,SAAQ,CAAE,EACpD,IAAIO,EAAM,2BAA2BF,IACrCC,EAAW,YAAYC,CAAG,CAC5B,CAAC"}